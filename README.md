# ЁЯЫбя╕П Anti-Reset OTP System (WinRE Protected)

## ЁЯУМ р╕гр╕▓р╕вр╕ер╕░р╣Ар╕нр╕╡р╕вр╕Ф
р╕гр╕░р╕Ър╕Ър╕Щр╕╡р╣Йр╕Ир╕░ **р╕Ыр╣Йр╕нр╕Зр╕Бр╕▒р╕Щр╣Др╕бр╣Ир╣Гр╕лр╣Йр╣Гр╕Др╕гр╕Чр╕│ Factory Reset р╣Ар╕Др╕гр╕╖р╣Ир╕нр╕З** р╣Вр╕Фр╕вр╣Др╕бр╣Ир╣Гр╕кр╣И OTP р╕Чр╕╡р╣Ир╕кр╣Ир╕Зр╕Ьр╣Ир╕▓р╕Щр╕нр╕╡р╣Ар╕бр╕е  
р╕гр╕▒р╕Щр╣Ар╕бр╕╖р╣Ир╕нр╕Ьр╕╣р╣Йр╣Гр╕Кр╣Йр╣Ар╕Вр╣Йр╕▓р╕кр╕╣р╣И WinRE р╕Ьр╣Ир╕▓р╕Щр╣Ар╕бр╕Щр╕╣ `Advanced Startup > Restart Now`  
р╣Ар╕лр╕бр╕▓р╕░р╕кр╕│р╕лр╕гр╕▒р╕Ъ: р╕Бр╕▓р╕гр╕Ыр╣Йр╕нр╕Зр╕Бр╕▒р╕Щр╕Вр╣Вр╕бр╕в, р╣Вр╕гр╕Зр╣Ар╕гр╕╡р╕вр╕Щ, р╣Вр╕Щр╣Кр╕Хр╕Ър╕╕р╕Др╕кр╣Ир╕зр╕Щр╕Хр╕▒р╕з

## ЁЯУБ р╣Вр╕Яр╕ер╣Ар╕Фр╕нр╕гр╣Мр╕кр╕│р╕Др╕▒р╕Н

| р╕Кр╕╖р╣Ир╕нр╣Др╕Яр╕ер╣М            | р╕Др╕│р╕нр╕Шр╕┤р╕Ър╕▓р╕в                             |
|---------------------|----------------------------------------|
| `mainprogram.py`    | р╣Вр╕Ыр╕гр╣Бр╕Бр╕гр╕бр╕лр╕ер╕▒р╕Бр╕Чр╕╡р╣Ир╣Гр╕Кр╣Йр╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ OTP         |
| `dist/mainprogram.exe` | р╣Др╕Яр╕ер╣М `.exe` р╕Чр╕╡р╣И build р╣Ар╕кр╕гр╣Зр╕Ир╣Бр╕ер╣Йр╕зр╕Ир╕▓р╕Б PyInstaller |
| `winpeshl.ini`      | р╣Др╕Яр╕ер╣М config р╕Чр╕╡р╣Ир╕кр╕▒р╣Ир╕Зр╣Гр╕лр╣Й WinRE р╕гр╕▒р╕Щ `.exe` р╣Вр╕Фр╕вр╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤ |

## ЁЯз░ р╕кр╕┤р╣Ир╕Зр╕Чр╕╡р╣Ир╕Хр╣Йр╕нр╕Зр╕Хр╕┤р╕Фр╕Хр╕▒р╣Йр╕Зр╣Гр╕Щр╣Ар╕Др╕гр╕╖р╣Ир╕нр╕Зр╕Бр╣Ир╕нр╕Щ

- Python 3.x (р╣Ар╕Кр╣Ир╕Щ 3.12)
- р╕Хр╕┤р╕Фр╕Хр╕▒р╣Йр╕Зр╣Др╕ер╕Ър╕гр╕▓р╕гр╕╡р╕Чр╕╡р╣Ир╣Гр╕Кр╣Й:
  ```bash
  pip install smtplib email
  ```
- PyInstaller р╕кр╕│р╕лр╕гр╕▒р╕Ъ build:
  ```bash
  pip install pyinstaller
  ```

## ЁЯЫая╕П р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Бр╕▓р╕гр╕кр╕гр╣Йр╕▓р╕З .exe

1. **р╣Бр╕Бр╣Йр╣Др╕Вр╕нр╕╡р╣Ар╕бр╕ер╣Бр╕ер╕░р╕гр╕лр╕▒р╕кр╕Ьр╣Ир╕▓р╕Щр╣Гр╕Щ `mainprogram.py`:**
   ```python
   EMAIL_SENDER = "you@gmail.com"
   EMAIL_PASSWORD = "your_app_password"
   EMAIL_RECEIVER = "you@gmail.com"  # р╕лр╕гр╕╖р╕нр╕нр╕╡р╣Ар╕бр╕ер╕Вр╕нр╕Зр╕бр╕лр╕▓р╕зр╕┤р╕Чр╕вр╕▓р╕ер╕▒р╕в
   ```

2. **Build р╣Ар╕Ыр╣Зр╕Щ `.exe` р╣Бр╕Ър╕Ър╕бр╕╡ console:**
   ```bash
   pyinstaller --onefile mainprogram.py
   ```

3. р╣Др╕Яр╕ер╣Мр╕Ир╕░р╕нр╕вр╕╣р╣Ир╕Чр╕╡р╣И:
   ```
   ./dist/mainprogram.exe
   ```

## ЁЯзй р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Бр╕▓р╕гр╕Эр╕▒р╕Зр╕ер╕Зр╣Гр╕Щ WinRE

### ЁЯФБ 1. р╕Др╣Йр╕Щр╕лр╕▓ `winre.wim`

```bash
reagentc /info
```

р╕Фр╕╣р╕Чр╕╡р╣И `Windows RE location:` р╣Ар╕Кр╣Ир╕Щ

```
\?\GLOBALROOT\device\harddisk0\partition4\Recovery\WindowsRE
```

### ЁЯФЧ 2. Mount р╕Юр╕▓р╕гр╣Мр╕Чр╕┤р╕Кр╕▒р╕Щ Recovery (р╕лр╕▓р╕Бр╕вр╕▒р╕Зр╣Др╕бр╣Ир╕бр╕╡)

```bash
diskpart
```

р╣Гр╕Щ `diskpart`:

```bash
select disk 0
select partition 4
assign letter=R
exit
```

### ЁЯУВ 3. Mount `winre.wim`

```bash
mkdir C:\WinREMount
dism /Mount-Wim /WimFile:R:\Recovery\WindowsRE\winre.wim /Index:1 /MountDir:C:\WinREMount
```

### ЁЯз╖ 4. р╕Др╕▒р╕Фр╕ер╕нр╕Б `.exe` р╣Бр╕ер╕░ `winpeshl.ini`

```bash
copy .\dist\mainprogram.exe C:\WinREMount\Windows\System32\
notepad C:\WinREMount\Windows\System32\winpeshl.ini
```

р╣Ар╕Юр╕┤р╣Ир╕бр╣Ар╕Щр╕╖р╣Йр╕нр╕лр╕▓:

```ini
[LaunchApp]
AppPath = %SYSTEMROOT%\System32\mainprogram.exe
```

### ЁЯТ╛ 5. Commit р╕Бр╕ер╕▒р╕Ър╣Ар╕Вр╣Йр╕▓ WinRE

```bash
dism /Unmount-Wim /MountDir:C:\WinREMount /Commit
```

## ЁЯзк р╕Бр╕▓р╕гр╕Чр╕Фр╕кр╕нр╕Ър╕гр╕░р╕Ър╕Ъ

1. р╣Др╕Ыр╕Чр╕╡р╣И:
   ```
   Settings > System > Recovery > Advanced Startup > Restart Now
   ```

2. р╣Ар╕Вр╣Йр╕▓р╕кр╕╣р╣И WinRE
3. р╣Вр╕Ыр╕гр╣Бр╕Бр╕гр╕бр╕Ир╕░р╕гр╕▒р╕Щр╣Бр╕ер╕░р╣Гр╕лр╣Йр╣Гр╕кр╣И OTP
4. р╕лр╕▓р╕Б OTP р╕Цр╕╣р╕Бр╕Хр╣Йр╕нр╕З тЖТ р╣Ар╕Ыр╕┤р╕Фр╕лр╕Щр╣Йр╕▓ Reset
5. р╕лр╕▓р╕Б OTP р╕Ьр╕┤р╕Ф тЖТ Reset р╕Ир╕░р╕Цр╕╣р╕Бр╕Ър╕ер╣Зр╕нр╕Д

## тЪая╕П р╕лр╕бр╕▓р╕вр╣Ар╕лр╕Хр╕╕р╕Др╕зр╕▓р╕бр╕Ыр╕ер╕нр╕Фр╕ар╕▒р╕в

- р╣Вр╕Ыр╕гр╣Бр╕Бр╕гр╕бр╣Др╕бр╣Ир╕кр╕▓р╕бр╕▓р╕гр╕Цр╕Чр╕│р╕Зр╕▓р╕Щр╣Др╕Фр╣Йр╕лр╕▓р╕Бр╣Др╕бр╣Ир╕бр╕╡р╕нр╕┤р╕Щр╣Ар╕Чр╕нр╕гр╣Мр╣Ар╕Щр╣Зр╕Х
- р╕лр╕▓р╕Б OTP р╣Др╕бр╣Ир╕Цр╕╣р╕Бр╕Хр╣Йр╕нр╕З тЖТ р╕Ьр╕╣р╣Йр╣Гр╕Кр╣Йр╕Ир╕░р╣Др╕бр╣Ир╕кр╕▓р╕бр╕▓р╕гр╕Ц reset р╣Др╕Фр╣Й
- р╕лр╕▓р╕Б OTP р╕Цр╕╣р╕Б тЖТ systemreset.exe р╕Ир╕░р╣Ар╕Ыр╕┤р╕Ф GUI р╕кр╕│р╕лр╕гр╕▒р╕Ъ reset
- р╕гр╕░р╕Ър╕Ър╕Щр╕╡р╣Йр╣Др╕бр╣Ир╕кр╕▓р╕бр╕▓р╕гр╕Цр╕Ыр╣Йр╕нр╕Зр╕Бр╕▒р╕Щр╕Бр╕▓р╕г format р╕Ир╕▓р╕Б external USB р╣Др╕Фр╣Й

## тЬЕ р╕кр╕Цр╕▓р╕Щр╕░

| р╕Яр╕╡р╣Ар╕Ир╕нр╕гр╣М                    | р╕кр╕Цр╕▓р╕Щр╕░    |
|----------------------------|----------|
| OTP р╕Ьр╣Ир╕▓р╕Щр╕нр╕╡р╣Ар╕бр╕е             | тЬЕ р╕кр╕│р╣Ар╕гр╣Зр╕И |
| р╕Ыр╣Йр╕нр╕Зр╕Бр╕▒р╕Щ reset р╣Др╕бр╣Ир╣Др╕Фр╣Йр╣Гр╕кр╣И OTP | тЬЕ р╕кр╕│р╣Ар╕гр╣Зр╕И |
| р╕Чр╕│р╕Зр╕▓р╕Щр╣Гр╕Щ WinRE             | тЬЕ р╕кр╕│р╣Ар╕гр╣Зр╕И |
| Timeout & р╣Бр╕Ир╣Йр╕Зр╣Ар╕Хр╕╖р╕нр╕Щ fallback | ЁЯФЬ (optional) |